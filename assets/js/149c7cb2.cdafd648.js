"use strict";(self.webpackChunkphysical_ai_textbook=self.webpackChunkphysical_ai_textbook||[]).push([[858],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},9491:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module-1/ros2-intro","title":"Introduction to ROS 2","description":"ROS 2 (Robot Operating System 2) is the middleware backbone of modern robotics. It enables different parts of a robot to communicate seamlessly, making it the \\"nervous system\\" that connects sensors, actuators, and intelligence.","source":"@site/docs/module-1/ros2-intro.md","sourceDirName":"module-1","slug":"/module-1/ros2-intro","permalink":"/physical-ai-textbook/docs/module-1/ros2-intro","draft":false,"unlisted":false,"editUrl":"https://github.com/yourusername/physical-ai-textbook/tree/main/website/docs/module-1/ros2-intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to Physical AI & Humanoid Robotics","permalink":"/physical-ai-textbook/docs/intro"},"next":{"title":"ROS 2 Fundamentals","permalink":"/physical-ai-textbook/docs/module-1/ros2-fundamentals"}}');var t=s(4848),i=s(8453);const o={sidebar_position:1},l="Introduction to ROS 2",a={},d=[{value:"Why ROS 2?",id:"why-ros-2",level:2},{value:"The Evolution from ROS 1",id:"the-evolution-from-ros-1",level:3},{value:"Industry Adoption",id:"industry-adoption",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"1. Nodes",id:"1-nodes",level:3},{value:"2. Topics",id:"2-topics",level:3},{value:"3. Services",id:"3-services",level:3},{value:"4. Actions",id:"4-actions",level:3},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Setting Up ROS 2",id:"setting-up-ros-2",level:2},{value:"Installation (Ubuntu 22.04)",id:"installation-ubuntu-2204",level:3},{value:"Create Your First Workspace",id:"create-your-first-workspace",level:3},{value:"Practical Example: Temperature Monitor",id:"practical-example-temperature-monitor",level:2},{value:"Publisher (Temperature Sensor)",id:"publisher-temperature-sensor",level:3},{value:"Subscriber (Monitor)",id:"subscriber-monitor",level:3},{value:"Running the System",id:"running-the-system",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ROS 2"}),' (Robot Operating System 2) is the middleware backbone of modern robotics. It enables different parts of a robot to communicate seamlessly, making it the "nervous system" that connects sensors, actuators, and intelligence.']}),"\n",(0,t.jsx)(n.h2,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,t.jsx)(n.h3,{id:"the-evolution-from-ros-1",children:"The Evolution from ROS 1"}),"\n",(0,t.jsx)(n.p,{children:"ROS 2 addresses critical limitations of its predecessor:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Feature"}),(0,t.jsx)(n.th,{children:"ROS 1"}),(0,t.jsx)(n.th,{children:"ROS 2"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Architecture"})}),(0,t.jsx)(n.td,{children:"Master-based (single point of failure)"}),(0,t.jsx)(n.td,{children:"Peer-to-peer (distributed)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Real-time"})}),(0,t.jsx)(n.td,{children:"Limited support"}),(0,t.jsx)(n.td,{children:"Full real-time capabilities"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Security"})}),(0,t.jsx)(n.td,{children:"Minimal"}),(0,t.jsx)(n.td,{children:"Built-in DDS security"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Platforms"})}),(0,t.jsx)(n.td,{children:"Linux-focused"}),(0,t.jsx)(n.td,{children:"Cross-platform (Linux, Windows, macOS)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Multi-robot"})}),(0,t.jsx)(n.td,{children:"Complex"}),(0,t.jsx)(n.td,{children:"Native support"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"industry-adoption",children:"Industry Adoption"}),"\n",(0,t.jsx)(n.p,{children:"Major robotics companies using ROS 2:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"BMW"}),": Factory automation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Boston Dynamics"}),": Spot robot"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Toyota"}),": Research platforms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NASA"}),": Space exploration"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,t.jsx)(n.h3,{id:"1-nodes",children:"1. Nodes"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Nodes"})," are independent processes that perform specific tasks. Think of them as specialized workers in a factory:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Camera Node"}),": Captures images"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Planning Node"}),": Decides robot actions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Motor Controller Node"}),": Controls wheel speeds"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Simple ROS 2 Node in Python\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalNode(Node):\n    def __init__(self):\n        super().__init__('minimal_node')\n        self.get_logger().info('Hello from ROS 2!')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-topics",children:"2. Topics"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Topics"})," are communication channels where nodes publish and subscribe to messages:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[Camera Node] --\x3e|Image Messages| B[/camera/image_raw Topic]\n    B --\x3e C[Image Processor]\n    B --\x3e D[Object Detector]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example: Publishing to a Topic"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass PublisherNode(Node):\n    def __init__(self):\n        super().__init__('publisher_node')\n        self.publisher = self.create_publisher(String, 'robot_status', 10)\n        self.timer = self.create_timer(1.0, self.publish_status)\n        \n    def publish_status(self):\n        msg = String()\n        msg.data = 'Robot is active!'\n        self.publisher.publish(msg)\n        self.get_logger().info(f'Publishing: {msg.data}')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-services",children:"3. Services"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Services"})," provide request-response communication for short operations:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from example_interfaces.srv import AddTwoInts\n\nclass ServiceClient(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_client')\n        self.client = self.create_client(AddTwoInts, 'add_two_ints')\n        \n    def send_request(self, a, b):\n        request = AddTwoInts.Request()\n        request.a = a\n        request.b = b\n        self.future = self.client.call_async(request)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-actions",children:"4. Actions"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Actions"})," are for long-running tasks with feedback (e.g., navigating to a goal):"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Goal"}),": Target position"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Feedback"}),": Progress updates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Result"}),": Success/failure status"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Application Layer                 \u2502\n\u2502  (Your Nodes: Navigation, Perception, etc.) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              ROS 2 Client Layer             \u2502\n\u2502        (rclpy, rclcpp - APIs)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           DDS Middleware Layer              \u2502\n\u2502  (Fast-DDS, Cyclone DDS - Communication)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-ros-2",children:"Setting Up ROS 2"}),"\n",(0,t.jsx)(n.h3,{id:"installation-ubuntu-2204",children:"Installation (Ubuntu 22.04)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Add ROS 2 repository\nsudo apt update\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n\n# Install ROS 2 Humble\nsudo apt update\nsudo apt install ros-humble-desktop\n\n# Source the setup file\necho "source /opt/ros/humble/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n",(0,t.jsx)(n.h3,{id:"create-your-first-workspace",children:"Create Your First Workspace"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create workspace\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n\n# Create a package\nros2 pkg create my_robot_pkg --build-type ament_python --dependencies rclpy\n\n# Build the workspace\ncd ~/ros2_ws\ncolcon build\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,t.jsx)(n.h2,{id:"practical-example-temperature-monitor",children:"Practical Example: Temperature Monitor"}),"\n",(0,t.jsx)(n.p,{children:"Let's build a complete system with publisher and subscriber:"}),"\n",(0,t.jsx)(n.h3,{id:"publisher-temperature-sensor",children:"Publisher (Temperature Sensor)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float32\nimport random\n\nclass TempSensor(Node):\n    def __init__(self):\n        super().__init__('temperature_sensor')\n        self.publisher = self.create_publisher(Float32, 'temperature', 10)\n        self.timer = self.create_timer(2.0, self.publish_temperature)\n        \n    def publish_temperature(self):\n        temp = Float32()\n        temp.data = 20.0 + random.uniform(-5, 5)  # Simulate reading\n        self.publisher.publish(temp)\n        self.get_logger().info(f'Temperature: {temp.data:.2f}\xb0C')\n\ndef main():\n    rclpy.init()\n    sensor = TempSensor()\n    rclpy.spin(sensor)\n    rclpy.shutdown()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"subscriber-monitor",children:"Subscriber (Monitor)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float32\n\nclass TempMonitor(Node):\n    def __init__(self):\n        super().__init__('temperature_monitor')\n        self.subscription = self.create_subscription(\n            Float32, 'temperature', self.temp_callback, 10\n        )\n        \n    def temp_callback(self, msg):\n        if msg.data > 25.0:\n            self.get_logger().warn(f'HIGH TEMP: {msg.data:.2f}\xb0C!')\n        else:\n            self.get_logger().info(f'Normal: {msg.data:.2f}\xb0C')\n\ndef main():\n    rclpy.init()\n    monitor = TempMonitor()\n    rclpy.spin(monitor)\n    rclpy.shutdown()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"running-the-system",children:"Running the System"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Run sensor\nros2 run my_robot_pkg temp_sensor\n\n# Terminal 2: Run monitor\nros2 run my_robot_pkg temp_monitor\n\n# Terminal 3: Inspect topics\nros2 topic list\nros2 topic echo /temperature\n"})}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"ROS 2 is the industry standard"})," for robot middleware",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Nodes"})," are independent processes that communicate via topics, services, and actions",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"DDS middleware"})," provides reliable, real-time communication",(0,t.jsx)(n.br,{}),"\n","\u2705 ",(0,t.jsx)(n.strong,{children:"Python and C++"})," are the primary languages for ROS 2 development"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.p,{children:["In the next section, we'll dive deeper into ",(0,t.jsx)(n.strong,{children:"ROS 2 fundamentals"}),", including:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Message types and custom messages"}),"\n",(0,t.jsx)(n.li,{children:"Launch files for complex systems"}),"\n",(0,t.jsx)(n.li,{children:"Parameters and configuration"}),"\n",(0,t.jsx)(n.li,{children:"TF2 for coordinate transforms"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Continue:"})," ",(0,t.jsx)(n.a,{href:"./ros2-fundamentals",children:"ROS 2 Fundamentals \u2192"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.ros.org/en/humble/",children:"Official ROS 2 Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://design.ros2.org/",children:"ROS 2 Design Principles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.omg.org/spec/DDS/",children:"DDS Specification"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);